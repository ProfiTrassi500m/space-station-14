- type: entity
  name: Императрица
  id: MobXenoQueenHiveOLD
  parent: 
  - MobXenoQueenHive
  suffix: Mizeliy 
  components:    
  - type: SolutionContainerManager
    solutions:
      melee:
        reagents:
        - ReagentId: XenoMorphReagent
          Quantity: 5000
  - type: MeleeChemicalInjector
    solution: melee
    transferAmount: 2.2
    pierceArmor: false
  - type: StaminaDamageOnHit
    damage: 15
  - type: CommunicationsConsole
    title: Улей
    color: "#ca00ca"
    canShuttle: true
    announceVoice: HearthstoneTiranda
    global: true 
    delay: 180
    initialDelay: 170
    announceSentBy: true
    sound: /Audio/Effects/demon_dies.ogg
  - type: UserInterface
    interfaces:
      enum.CommunicationsConsoleUiKey.Key:
        type: CommunicationsConsoleBoundUserInterface
  - type: IntrinsicUI
    uis:
      enum.CommunicationsConsoleUiKey.Key:
        toggleAction: ActionAGhostShowCommunications
  - type: AnnounceOnSpawn
    message: Внимание, экипаж станции! По нашим датчикам в вашем секторе образовалась чужеродная телепатическая сигнатура биологического происхождения класса хтоник. Командованию станции требуется немедено выяснить сущность сигнатуры и составить отчëт. Службе безопасности необходимо вооружиться и подготовиться к вероятной зашите активов NanoTrasen. Экипажу станции приказано проследовать в свои отделы до выяснения ситуации. В случае проявления прямой угрозы проследуйте под защиту Службы безопасности. Слава NanoTrasen!
    sender: "Центральное Командование"
    sound:
      path: /Audio/_Sunrise/Misc/siren.ogg
    color: PaleVioletRed
  - type: GhostRole
    name: Императрица
    description: Ваша задача основать свой род.
  - type: Sprite
    scale: 1.2, 1.2
  - type: Butcherable
    butcheringType: Knife
    spawned:
    - id: ZhelezaRegeneraziT4
    - id: FoodMeatXenoHive
      amount: 29

- type: entity
  name: Породитель
  id: MobXenoPraetorianHiveOLD
  parent: 
  - MobXenoPraetorianHive
  description: Папа?
  suffix: Mizeliy 
  components:    
  - type: SolutionContainerManager
    solutions:
      melee:
        reagents:
        - ReagentId: XenoMorphReagent
          Quantity: 5000
  - type: MeleeChemicalInjector
    solution: melee
    transferAmount: 2.2
    pierceArmor: false
  - type: StaminaDamageOnHit
    damage: 15
  - type: Butcherable
    butcheringType: Knife
    spawned:
    - id: ZhelezaRegeneraziT3
    - id: FoodMeatXenoHive
      amount: 18
  - type: AutoImplant
    implants:
    - AbilityPuddleDronImplant
    - AbilityPuddlePretorImplant
    - LightImplantSpiderCrystal333
    - ImplantXenoEggHunterXenoEggMobXenoDroneHive 
    - ImplantXenoEggHunter
    - ImplantMobXenoSpitter
    - MobTickXenoImplant  
    - AbilityWallRockChromiteImplant
  - type: Reform
    actionPrototype: DionaReformActionXenoPretorOld
    reformTime: 10
    popupText: Стань родоначальницей улья!
    reformPrototype: MobXenoQueenHiveOLD
  - type: PassiveDamage
    allowedStates:
    - Alive
    - Critical
    damageCap: 1000
    damage:
      types:
        Heat: -1
        Caustic: -5           
      groups:
        Brute: -4  
        Toxin: -4
        Airloss: -4
        Burn: -3
  - type: MobThresholds
    thresholds:
      0: Alive
      250: Critical
      500: Dead    
  - type: SlowOnDamage
    speedModifierThresholds:
      230: 0.7     
  - type: MeleeWeapon 
    hidden: true
    autoAttack: true
    soundHit:
      path: /Audio/Effects/bite.ogg
    angle: 0
    animation: WeaponArcBite
    damage:
      types:
        Blunt: 3
        Piercing: 4
        Structural: 45
  - type: MovementSpeedModifier
    baseWalkSpeed : 2
    baseSprintSpeed : 4.4
  - type: Devourer
    structureDevourTime: 15
    foodPreference: Humanoid
    shouldStoreDevoured: true
    chemical: IchorXeno
    healRate: 20.0 
    whitelist:
      components:
      - Door
      tags:
      - Wall
  - type: GhostRole
    name: Породитель
  - type: Sprite
    scale: 1.2, 1.2

- type: entity  
  name: Королева
  id: MobXenoQueenHive
  parent: 
  - MobXenoBaseMod
  description: МАМА???
  suffix: Mizeliy 
  components:    
  - type: CommunicationsConsole
    title: Улей
    color: "#ca00ca"
    canShuttle: true
    announceVoice: HearthstoneTiranda
    global: true 
    delay: 360
    initialDelay: 170
    announceSentBy: true
    sound: /Audio/Effects/demon_dies.ogg
  - type: UserInterface
    interfaces:
      enum.CommunicationsConsoleUiKey.Key:
        type: CommunicationsConsoleBoundUserInterface
  - type: IntrinsicUI
    uis:
      enum.CommunicationsConsoleUiKey.Key:
        toggleAction: ActionAGhostShowCommunications
  - type: Butcherable
    butcheringType: Knife
    spawned:
    - id: ZhelezaRegeneraziT3
    - id: FoodMeatXenoHive
      amount: 25
  - type: Devourer
    structureDevourTime: 20
    foodPreference: Humanoid
    shouldStoreDevoured: true
    chemical: IchorXeno
    healRate: 20.0 
    whitelist:
      components:
      - Door
      tags:
      - Wall
  - type: Physics
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.45
        density: 15000
        mask:
          - MobMask
        layer:
          - MobLayer
  - type: GhostRole
    name: Королева
    description: Ваша задача сохранить свой род.
  - type: AutoImplant
    implants:
    - AbilityPuddlePretorImplant
    - AbilityPuddleDronImplant
    - AbilityWeaponTurretXenoImplant  
    - LightImplantSpiderCrystal333
    - LightImplantSpiderCrystal
    - ImplantXenoEggHunterAbilityXenoEggMobMobXenoRounyHive 
    - ImplantXenoEggHunterXenoEggMobXenoRavagerHive 
    - ImplantXenoEggMobXenoPraetorianHive 
    - ImplantXenoEggHunterXenoEggMobXenoDroneHive 
    - ImplantXenoEggHunter
    - ImplantMobXenoSpitter
    - AbilityWallRockChromiteImplant
    - MobTickXenoImplantQueen
  - type: RechargeBasicEntityAmmo 
    rechargeCooldown: 0.75
  - type: BasicEntityAmmoProvider
    proto: BulletAcidHivePW
    capacity: 1
    count: 1
  - type: Gun
    fireRate: 0.75
    useKey: false
    selectedMode: FullAuto
    availableModes:
      - FullAuto
    soundGunshot: /Audio/Weapons/Xeno/alien_spitacid.ogg       
  - type: PassiveDamage
    allowedStates:
    - Alive
    - Critical
    damageCap: 3500
    damage:
      types:
        Heat: -1
        Caustic: -25           
      groups:
        Brute: -1 
        Toxin: -1
        Airloss: -1
        Burn: -1
  - type: MobThresholds
    thresholds:
      0: Alive
      200: Critical
      400: Dead    
  - type: SlowOnDamage
    speedModifierThresholds:
      150: 0.7     
  - type: MeleeWeapon 
    hidden: true
    autoAttack: true
    soundHit:
      path: /Audio/Effects/bite.ogg
    angle: 0
    animation: WeaponArcBite
    damage:
      types:
        Blunt: 4
        Piercing: 3
        Structural: 20
  - type: MovementSpeedModifier
    baseWalkSpeed : 2
    baseSprintSpeed : 3.8
  - type: Sprite
    sprite: /Textures/Mobs/Aliens/Xenos/queen.rsi
    layers:
      - state: running
        map: ["enum.DamageStateVisualLayers.Base"]
  - type: DamageStateVisuals
    states:
      Alive:
        Base: running
      Critical:
        Base: crit
      Dead:
        Base: dead
  - type: AnnounceOnSpawn
    message: Внимание, экипаж станции! По нашим датчикам в вашем секторе повторно образовалась чужеродная  телепатическая сигнатура биологического происхождения.
    sender: "Центральное Командование"
    sound:
      path: /Audio/_Sunrise/Misc/siren.ogg
    color: PaleVioletRed

- type: entity
  name: Преторианец
  id: MobXenoPraetorianHive
  parent: 
  - MobXenoBaseMod
  description: Папа?
  suffix: Mizeliy 
  components:    
  - type: Butcherable
    butcheringType: Knife
    spawned:
    - id: ZhelezaRegeneraziT2
    - id: FoodMeatXenoHive
      amount: 8
  - type: Devourer
    structureDevourTime: 35
    foodPreference: Humanoid
    shouldStoreDevoured: true
    chemical: IchorXeno
    healRate: 20.0 
    whitelist:
      components:
      - Door
      tags:
      - Wall
  - type: HTN
    rootTask:
      task: XenoWarCompound
  - type: Physics
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.45
        density: 5000
        mask:
          - MobMask
        layer:
          - MobLayer
  - type: GhostRole
    name: Преторианец
    description: Ваша задача вырасти и сохранить свой род.
  - type: AutoImplant
    implants:
    - AbilityPuddlePretorImplant
    - LightImplantSpiderCrystal333
    - ImplantXenoEggHunterXenoEggMobXenoDroneHive 
    - ImplantXenoEggHunter
    - ImplantMobXenoSpitter
    - MobTickXenoImplant  
    - AbilityWallRockChromiteImplant
  - type: RechargeBasicEntityAmmo 
    rechargeCooldown: 3
  - type: BasicEntityAmmoProvider
    proto: BulletAcidHivePW
    capacity: 2
    count: 2
  - type: Gun
    fireRate: 2
    useKey: false
    selectedMode: FullAuto
    availableModes:
      - FullAuto
    soundGunshot: /Audio/Weapons/Xeno/alien_spitacid.ogg
  - type: PassiveDamage 
    allowedStates:
    - Alive
    - Critical
    damageCap: 1000
    damage:
      types:
        Heat: -0.5
        Caustic: -25   
      groups:
        Brute: -0.5
        Toxin: -0.5
        Airloss: -0.5
        Burn: -0.5      
  - type: MobThresholds
    thresholds:
      0: Alive
      110: Critical
      220: Dead 
  - type: SlowOnDamage
    speedModifierThresholds:
      140: 0.7    
  - type: MeleeWeapon 
    hidden: true
    autoAttack: true
    soundHit:
      path: /Audio/Effects/bite.ogg
    angle: 0
    animation: WeaponArcBite
    damage:
      types:
        Blunt: 4
        Piercing: 2
        Structural: 20  
  - type: MovementSpeedModifier
    baseWalkSpeed : 2
    baseSprintSpeed : 3.8
  - type: Reform
    actionPrototype: DionaReformActionXeno
    reformTime: 50
    popupText: Ты стало королевой!
    reformPrototype: MobXenoQueenHive   
  - type: Sprite
    sprite: /Textures/Mobs/Aliens/Xenos/praetorian.rsi
    layers:
      - state: running
        map: ["enum.DamageStateVisualLayers.Base"]
  - type: DamageStateVisuals
    states:
      Alive:
        Base: running
      Critical:
        Base: crit
      Dead:
        Base: dead

- type: entity
  name: Разрушитель
  id: MobXenoRavagerHive
  parent: 
  - MobXenoBaseMod
  description: Чтобы справиться с таким, нужен, как минимум, весь отдел СБ или один клоун.
  suffix: Mizeliy 
  components:    
  - type: Butcherable
    butcheringType: Knife
    spawned:
    - id: ZhelezaRegeneraziT2
    - id: FoodMeatXenoHive
      amount: 12
  - type: Devourer
    structureDevourTime: 45
    foodPreference: Humanoid
    shouldStoreDevoured: true
    chemical: IchorXeno
    healRate: 20.0 
    whitelist:
      components:
      - Door
      tags:
      - Wall
  - type: Reflect
    reflectProb: 0.2
    spread: 90
  - type: Physics
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.45
        density: 10000
        mask:
          - MobMask
        layer:
          - MobLayer
  - type: GhostRole
    name: Разрушитель
    description: Ваша задача стать щитом для своего рода.
  - type: PassiveDamage
    allowedStates:
    - Alive
    - Critical
    damageCap: 1000
    damage:
      types:
        Heat: -10
        Caustic: -25        
      groups:
        Brute: -1 
        Toxin: -1
        Airloss: -1
        Burn: -2      
  - type: MobThresholds
    thresholds:
      0: Alive
      250: Critical
      800: Dead    
  - type: SlowOnDamage
    speedModifierThresholds:
      200: 0.7     
  - type: MeleeWeapon 
    hidden: true
    autoAttack: true
    soundHit:
      path: /Audio/Effects/bite.ogg
    angle: 0
    range: 2.1
    animation: WeaponArcBite
    damage:
      types:
        Blunt: 6
        Piercing: 6
        Structural: 120
  - type: Puller     
    needsHands: false  
  - type: IgnoreSpiderWeb
  - type: MovementSpeedModifier
    baseWalkSpeed : 2
    baseSprintSpeed : 2.3
  - type: Sprite
    scale: 1.2, 1.2
    sprite: /Textures/Mobs/Aliens/Xenos/ravager.rsi
    layers:
      - state: running
        map: ["enum.DamageStateVisualLayers.Base"]
  - type: DamageStateVisuals
    states:
      Alive:
        Base: running
      Critical:
        Base: crit
      Dead:
        Base: dead

- type: entity
  name: Руни
  id: MobXenoRounyHive
  parent: 
  - MobXenoBaseMod
  description: Самый слабый из ксеносов. Выглядит как ошибка природы.
  suffix: Mizeliy 
  components:    
  - type: SolutionContainerManager
    solutions:
      melee:
        reagents:
        - ReagentId: XenoMorphReagent
          Quantity: 5000
  - type: MeleeChemicalInjector
    solution: melee
    transferAmount: 2.2
    pierceArmor: false
  - type: Butcherable
    butcheringType: Knife
    spawned:
    - id: ZhelezaRegeneraziT2
    - id: FoodMeatXenoHive
      amount: 8
  - type: Physics
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.35
        density: 1000
        mask:
          - MobMask
        layer:
          - MobLayer
  - type: VentCrawler
  - type: GhostRole
    name: Руни
  - type: Stealth
    hadOutline: true
    enabledOnDeath: false
  - type: StealthOnMove
    passiveVisibilityRate: -0.10
    movementVisibilityRate: 0.05
  - type: AutoImplant
    implants:
    - XenoLightImplantSpiderActionBlinkBubblegumJump   
  - type: PassiveDamage
    allowedStates:
    - Alive
    - Critical
    damageCap: 1700
    damage:
      types:
        Heat: -0.5
        Caustic: -25         
      groups:
        Brute: -1   
        Toxin: -1
        Airloss: -1
        Burn: -0.75     
  - type: MobThresholds
    thresholds:
      0: Alive
      100: Critical
      300: Dead   #ХП  
  - type: SlowOnDamage
    speedModifierThresholds:
      85: 0.7   
  - type: MeleeWeapon #Урон
    hidden: true
    autoAttack: true
    soundHit:
      path: /Audio/Effects/bite.ogg
    angle: 0
    range: 3
    animation: WeaponArcBite
    damage:
      types:
        Blunt: 1
        Piercing: 1
        Structural: 5  
  - type: MovementSpeedModifier
    baseWalkSpeed : 1
    baseSprintSpeed : 6.5
  - type: StaminaDamageOnHit
    damage: 20
  - type: Sprite
    sprite: /Textures/Mobs/Aliens/Xenos/rouny.rsi
    layers:
      - state: running
        map: ["enum.DamageStateVisualLayers.Base"]
  - type: DamageStateVisuals
    states:
      Alive:
        Base: running
      Critical:
        Base: crit
      Dead:
        Base: dead     

- type: entity
  name: Воин 
  id: MobXenoVoin
  parent: 
  - MobXenoBaseMod
  suffix: Mizeliy
  components:    
  - type: GhostRole
    name: Воин
  - type: Physics
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.4
        density: 500
        mask:
          - MobMask
        layer:
          - MobLayer
  - type: PassiveDamage
    allowedStates:
    - Alive
    - Critical
    damageCap: 1800
    damage:
      types:
        Heat: -0.4
        Caustic: -25           
      groups:
        Brute: -0.4
        Toxin: -0.4
        Airloss: -0.4
        Burn: -0.4
  - type: MobThresholds
    thresholds:
      0: Alive
      95: Critical
      260: Dead     
  - type: SlowOnDamage
    speedModifierThresholds:
      75: 0.6 
  - type: MeleeWeapon 
    hidden: true
    autoAttack: true
    soundHit:
      path: /Audio/Effects/bite.ogg
    angle: 0
    range: 2.5
    animation: WeaponArcBite
    damage:
      types:
        Blunt: 4
        Structural: 12
  - type: Puller      
    needsHands: false  
  - type: IgnoreSpiderWeb  
  - type: MovementSpeedModifier
    baseWalkSpeed : 2
    baseSprintSpeed : 3.9   
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: XenoDamage  
  - type: Sprite
    scale: 1.1, 1.1
    sprite: /Textures/Mobs/Aliens/Xenos/burrower.rsi
    layers:
      - state: running
        map: ["enum.DamageStateVisualLayers.Base"]
  - type: DamageStateVisuals
    states:
      Alive:
        Base: running
      Critical:
        Base: crit
      Dead:
        Base: dead    
  - type: Reform
    actionPrototype: DionaReformActionXenoRavager
    reformTime: 60
    popupText: Стань разрушителем!
    reformPrototype: MobXenoRavagerHive

- type: entity
  name: Дрон
  id: MobXenoDroneHive
  parent: 
  - MobXenoBaseMod
  description: Выглядит массивно.
  suffix: Mizeliy 
  components:    
  - type: Devourer
    structureDevourTime: 55
    foodPreference: Humanoid
    shouldStoreDevoured: true
    chemical: IchorXeno
    healRate: 20.0 
    whitelist:
      components:
      - Door
      tags:
      - Wall
  - type: Physics
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.4
        density: 600
        mask:
          - MobMask
        layer:
          - MobLayer
  - type: GhostRole
    name: Дрон
  - type: AutoImplant
    implants:
    - AbilityPuddleDronImplant
    - AbilityWallRockChromiteImplant 
    - AbilityWeaponTurretXenoImplant   
    - LightImplantSpiderCrystal333
    - MobTickXenoImplantDron
  - type: PassiveDamage
    allowedStates:
    - Alive
    - Critical
    damageCap: 1000
    damage:
      types:
        Heat: -0.25
        Caustic: -25     
      groups:
        Brute: -0.25
        Toxin: -0.25
        Airloss: -0.25
        Burn: -0.25 
  - type: MobThresholds
    thresholds:
      0: Alive
      70: Critical
      180: Dead    
  - type: SlowOnDamage
    speedModifierThresholds:
      50: 0.7  
  - type: MeleeWeapon 
    hidden: true
    autoAttack: true
    soundHit:
      path: /Audio/Effects/bite.ogg
    angle: 0
    animation: WeaponArcBite
    damage:
      types:
        Blunt: 2
        Piercing: 1
        Structural: 35     
  - type: MovementSpeedModifier
    baseWalkSpeed : 2
    baseSprintSpeed : 3.6
  - type: Sprite
    sprite: /Textures/Mobs/Aliens/Xenos/drone.rsi
    layers:
      - state: running
        map: ["enum.DamageStateVisualLayers.Base"]
  - type: DamageStateVisuals
    states:
      Alive:
        Base: running
      Critical:
        Base: crit
      Dead:
        Base: dead     
  - type: Reform
    actionPrototype: DionaReformActionXenoPretor
    reformTime: 60
    popupText: Стань преторианцем!
    reformPrototype: MobXenoPraetorianHive

- type: entity
  name: Харкун
  id: MobXenoSpitterHive
  parent: 
  - MobXenoBaseMod
  description: Дальнобойный ксенос. Очень хрупкий солдат улья. 
  suffix: Mizeliy   
  components:    
  - type: ActionGun
    action: ActionDragonsBreathxeno
    gunProto: DragonsBreathGunxeno
  - type: Physics
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.40
        density: 200
        mask:
          - MobMask
        layer:
          - MobLayer
  - type: GhostRole
    name: Харкун
  - type: PassiveDamage 
    allowedStates:
    - Alive
    - Critical
    damageCap: 1000
    damage:
      types:
        Heat: -0.25
        Caustic: -5        
      groups:
        Brute: -0.25
        Toxin: -0.25
        Airloss: -0.25
        Burn: -0.25  
  - type: MobThresholds
    thresholds:
      0: Alive
      60: Critical
      170: Dead     
  - type: SlowOnDamage
    speedModifierThresholds:
      35: 0.7     
  - type: MeleeWeapon 
    hidden: true
    autoAttack: true
    soundHit:
      path: /Audio/Effects/bite.ogg
    angle: 0
    animation: WeaponArcBite
    damage:
      types:
        Blunt: 1
        Caustic: 2
        Structural: 10   
  - type: MovementSpeedModifier
    baseWalkSpeed : 2
    baseSprintSpeed : 3.7
  - type: RechargeBasicEntityAmmo 
    rechargeCooldown: 1.5
  - type: BasicEntityAmmoProvider
    proto: BulletAcidHivePW
    capacity: 4
    count: 4
  - type: Gun
    fireRate: 2
    useKey: false
    selectedMode: FullAuto
    availableModes:
      - FullAuto
    soundGunshot: /Audio/Weapons/Xeno/alien_spitacid.ogg       
  - type: Sprite
    sprite: /Textures/Mobs/Aliens/Xenos/spitter.rsi
    layers:
      - state: running
        map: ["enum.DamageStateVisualLayers.Base"]
  - type: DamageStateVisuals
    states:
      Alive:
        Base: running
      Critical:
        Base: crit
      Dead:
        Base: dead
  - type: HTN
    rootTask:
      task: XenoWarCompound
  - type: CursorOffsetRequiresWield
  - type: EyeCursorOffset
    maxOffset: 5
    pvsIncrease: 0.2

- type: entity 
  name: Рабочий 
  id: MobXenoHive
  parent: 
  - MobXenoBaseMod
  description: Стандартный вид ксеносов.
  suffix: Mizeliy 
  components:    
  - type: AutoImplant
    implants:
    - LightImplantSpiderCrystal333
  - type: VentCrawler
  - type: Physics
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.25
        density: 100
        mask:
          - MobMask
        layer:
          - MobLayer
  - type: GhostRole
    name: Рабочий
  - type: PassiveDamage
    allowedStates:
    - Alive
    - Critical
    damageCap: 1000
    damage:
      types:
        Heat: -0.25
        Caustic: -25       
      groups:
        Brute: -0.25
        Toxin: -0.25
        Airloss: -0.25
        Burn: -0.25
  - type: MobThresholds
    thresholds:
      0: Alive
      50: Critical
      100: Dead     
  - type: SlowOnDamage
    speedModifierThresholds:
      35: 0.7   
  - type: MeleeWeapon 
    hidden: true
    autoAttack: true
    soundHit:
      path: /Audio/Effects/bite.ogg
    angle: 0
    animation: WeaponArcBite
    damage:
      types:
        Blunt: 1
        Piercing: 2
        Structural: 5
  - type: MovementSpeedModifier
    baseWalkSpeed : 2
    baseSprintSpeed : 3.65
  - type: Reform
    actionPrototype: DionaReformActionXenoVoin
    reformTime: 25
    popupText: Стань войном
    reformPrototype: MobXenoVoin
  - type: Sprite
    scale: 0.7, 0.7
    sprite: /Textures/Mobs/Aliens/Xenos/runner.rsi
    layers:
      - state: running
        map: ["enum.DamageStateVisualLayers.Base"]
  - type: DamageStateVisuals
    states:
      Alive:
        Base: running
      Critical:
        Base: crit
      Dead:
        Base: dead     

- type: entity
  parent: BaseMobSpeciesOrganic
  id: BaseMobHumanoidXenoT1
  name: ксеновыродок
  components:
  - type: TTS
    voice: HermaeusMora
  - type: RechargeBasicEntityAmmo 
    rechargeCooldown: 1.3
  - type: BasicEntityAmmoProvider
    proto: BulletAcidHivePW
    capacity: 1
    count: 1
  - type: Gun
    fireRate: 1
    useKey: false
    selectedMode: FullAuto
    availableModes:
      - FullAuto
    soundGunshot: /Audio/Weapons/Xeno/alien_spitacid.ogg       
  - type: GhostRole
    makeSentient: true
    allowSpeech: true
    allowMovement: true
    requirements:
    name: Ксеновыродок
    description: Ваша задача помочь руни обратить гумпноидов и защитить род ксено хозяев.
    raffle:
      settings: short
  - type: GhostTakeoverAvailable
  - type: NpcFactionMember
    factions:
    - Xeno
  - type: Absorbable
  - type: Respirator
    damage:
      types:
        Asphyxiation: 0.2
    damageRecovery:
      types:
        Asphyxiation: -1.0
    maxSaturation: 50
    minSaturation: 40
  - type: Vocal
    sounds:
      Male: XenoHumanoid
      Female: XenoHumanoid
      Unsexed: XenoHumanoid
  - type: PressureImmunity
  - type: TypingIndicator
    proto: alien
  - type: Temperature
    heatDamageThreshold: 360
    coldDamageThreshold: -150
    currentTemperature: 310.15
  - type: Speech
    speechVerb: LargeMob
  - type: MeleeWeapon
    hidden: true
    autoAttack: true
    soundHit:
      collection: Punch
    angle: 30
    animation: WeaponArcClaw
    attackRate: 1
    damage:
      types:
        Blunt: 5
        Slash: 5
  - type: Bloodstream
    bloodReagent: FluorosulfuricAcidHumanoidXeno
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: XenoDamage
  - type: DamageVisuals
    damageOverlayGroups:
      Brute:
        sprite: Mobs/Effects/brute_damage.rsi
        color: "#44944A"
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.40
        density: 250
        restitution: 0.0
        mask:
        - MobMask
        layer:
        - MobLayer
  - type: Sprite
    scale: 0.7, 0.7
    layers:
    - map: [ "enum.HumanoidVisualLayers.Chest" ]
    - map: [ "enum.HumanoidVisualLayers.Snout" ]
    - map: [ "enum.HumanoidVisualLayers.Eyes" ]
    - map: [ "enum.HumanoidVisualLayers.RArm" ]
    - map: [ "enum.HumanoidVisualLayers.LArm" ]
    - map: [ "enum.HumanoidVisualLayers.RLeg" ]
    - map: [ "enum.HumanoidVisualLayers.LLeg" ]
    - shader: StencilClear
      sprite: _Sunrise/Mobs/Species/HumanoidXeno/parts.rsi
      state:
    - map: ["enum.HumanoidVisualLayers.LFoot"]
    - map: ["enum.HumanoidVisualLayers.RFoot"]
    - map: ["bra"]
    - map: ["pants"]
    - map: ["socks"]
    - map: ["jumpsuit"]
    - map: ["enum.HumanoidVisualLayers.LHand"]
    - map: ["enum.HumanoidVisualLayers.RHand"]
    - map: [ "gloves" ]
    - map: [ "shoes" ]
    - map: [ "ears" ]
    - map: [ "outerClothing" ]
    - map: [ "belt" ]
    - map: [ "id" ]
    - map: [ "neck" ]
    - map: [ "back" ]
    - map: [ "enum.HumanoidVisualLayers.FacialHair" ]
    - map: [ "enum.HumanoidVisualLayers.Hair" ]
    - map: [ "enum.HumanoidVisualLayers.HeadSide" ]
    - map: [ "enum.HumanoidVisualLayers.HeadTop" ]
    - map: [ "enum.HumanoidVisualLayers.Tail" ]
    - map: [ "pocket1" ]
    - map: [ "pocket2" ]
    - map: ["enum.HumanoidVisualLayers.Handcuffs"]
      color: "#ffffff"
      sprite: Objects/Misc/handcuffs.rsi
      state: body-overlay-2
      visible: false
  - type: Hunger
    baseDecayRate: 0.04
  - type: Thirst
    baseDecayRate: 0.15
    dehydrationDamage:
      types:
        Bloodloss: 0.5
        Asphyxiation: 0.5
  - type: Icon
    sprite: _Sunrise/Mobs/Species/HumanoidXeno/parts.rsi
    state: full
  - type: Perishable
  - type: Butcherable
    butcheringType: Spike
    spawned:
    - id: FoodMeatXenoHive
      amount: 5
  - type: Body
    prototype: HumanoidXeno
    requiredLegs: 2
  - type: Inventory
    speciesId: reptilian
    templateId: humanoidxeno
  - type: HumanoidAppearance
    species: HumanoidXeno
  - type: Tag
    tags:
      - HumanoidXeno
      - CanPilot
      - FootstepSound
      - DoorBumpOpener
  - type: FootprintEmitter
  - type: Carriable
  - type: IntrinsicRadioReceiver
  - type: IntrinsicRadioTransmitter
    channels:
    - Hivemind
  - type: ActiveRadio
    channels:
    - Hivemind    
  - type: RandomHumanoidAppearance
    randomizeName: false
  - type: MovementAlwaysTouching
  - type: CanMoveInAir
  - type: BorgMagboots
    walkModifier: 0.9
    sprintModifier: 0.9
  - type: Loadout
    prototypes: [xenomodhumangear]
  - type: PassiveDamage
    allowedStates:
    - Alive
    - Critical
    damageCap: 5000
    damage:
      types:
        Heat: -0.5
        Caustic: -3         
      groups:
        Brute: -0.5 
        Toxin: -0.5
        Airloss: -0.5
        Burn: -0.5     
  - type: MobThresholds
    thresholds:
      0: Alive
      65: Critical
      120: Dead
  - type: SlowOnDamage
    speedModifierThresholds:
      40: 0.7   
  - type: CultMember
    reason: "Вы не можете атаковать своих собратьев."


- type: entity
  name: лицежрун
  id: MobTickXenoLittle
  parent: MobTick
  suffix: Mizeliy 
  components: 
  - type: Bloodstream
    bloodReagent: FluorosulfuricAcidHumanoidXeno
  - type: TimedDespawn 
    lifetime: 200
  - type: MeleeWeapon 
    hidden: true
    autoAttack: true
    soundHit:
      path: /Audio/Effects/bite.ogg
    angle: 0
    animation: WeaponArcBite
    damage:
      types:
        Blunt: 2
        Structural: 3
  - type: NpcFactionMember
    factions:
    - Xeno
  - type: GhostRole
    name: Лицежрун
    description: Помогите своим старшим собратьям.
    raffle:
      settings: xenodjuk
  - type: GhostTakeoverAvailable 
  - type: Reform
    actionPrototype: DionaReformActionXenoRab
    reformTime: 12
    popupText: Стань полноценным ксено!
    reformPrototype: MobXenoHive
  - type: VentCrawler
  - type: IntrinsicRadioReceiver
  - type: IntrinsicRadioTransmitter
    channels:
    - Hivemind
  - type: ActiveRadio
    channels:
    - Hivemind 
  - type: Butcherable
    butcheringType: Knife
    spawned:
    - id: FoodMeatXenoHive
      amount: 3

- type: entity
  id: XenoEggBaseParent
  name: яйцо
  description: Это яйцо?
  placement:
    mode: SnapgridCenter
    snap:
    - Wall
  components:
  - type: Butcherable
    butcheringType: Knife
    spawned:
    - id: ZhelezaRegeneraziT1
    - id: FoodMeatXenoHive
      amount: 2
  - type: RangedDamageSound
    soundGroups:
      Brute:
        collection:
          MeatBulletImpact
    soundTypes:
      Heat:
        collection:
          MeatLaserImpact
  - type: Transform
    anchored: false
  - type: Clickable
  - type: InteractionOutline
  - type: Sprite
    noRot: true
    sprite: Structures/Specific/xeno_building.rsi
    layers:
      - state: wardingtower
      - state: wardingtower-unshaded
        shader: unshaded
  - type: Damageable
    damageContainer: Inorganic
    damageModifierSet: Metallic
  - type: Physics
    bodyType: Dynamic
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.35,-0.35,0.35,0.35"
        mask:
          - FullTileMask  
        layer:
          - WallLayer
        density: 95
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 75
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ] 

- type: entity
  name: низший ксено
  description: Плюет кислотными зарядами
  parent: WeaponTurretXeno
  id: WeaponTurretXeno2
  suffix: Xeno
  components:    
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.35
        density: 120
        mask:
        - MachineMask
        layer:
        - MachineLayer    
  - type: BallisticAmmoProvider
    proto: BulletAcidHivePW
    capacity: 500
  - type: TimedDespawn
    lifetime: 300
  - type: SpawnOnDespawn
    prototype: MobXenoHive
  - type: Gun
    fireRate: 2
    selectedMode: FullAuto
    soundGunshot: /Audio/Weapons/Xeno/alien_spitacid.ogg
  - type: HTN
    rootTask:
      task: TurretCompound
    blackboard:
      SoundTargetInLOS: !type:SoundPathSpecifier
        path: /Audio/Animals/snake_hiss.ogg
  - type: Damageable
    damageContainer: Biological
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 50
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
      - !type:PlaySoundBehavior
        sound:
          path: /Audio/Effects/gib1.ogg
      - !type:SpawnEntitiesBehavior
        spawn:
          FoodMeatXenoHive:
            min: 3
            max: 6

- type: entity
  parent: 
  - BaseWall
  - WallRock
  id: WallWebDurable
  name: слюна ксеноморфов
  description: Удерживает личинки внутри, а ассистентов снаружи.
  components:
  - type: Clickable
  - type: MeleeSound
    soundGroups:
      Brute:
        path:
          "/Audio/Weapons/slash.ogg"
  - type: Damageable
    damageModifierSet: Web
  - type: Tag
    tags:
      - Wall
  - type: Sprite
    sprite: Structures/Walls/rock.rsi
    layers:
      - state: rock_chromite
      - map: [ "enum.EdgeLayer.South" ]
        state: rock_chromite_south
      - map: [ "enum.EdgeLayer.East" ]
        state: rock_chromite_east
      - map: [ "enum.EdgeLayer.North" ]
        state: rock_chromite_north
      - map: [ "enum.EdgeLayer.West" ]
        state: rock_chromite_west 
  - type: Icon
    sprite: Structures/Walls/rock.rsi
    layers:
      - state: rock_chromite        
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 80
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
      - !type:SpawnEntitiesBehavior
        spawn:
          MaterialWebSilk:
            min: 0
            max: 0
      - !type:PlaySoundBehavior
        sound:
          collection: WoodDestroy
  - type: IconSmooth
    key: webs
    base: wall
  - type: Construction
    graph: WebStructures
    node: wall 

- type: entity
  name: конструкция ксеноморфов  
  description: Очень гладкий и удивительно прочный.
  parent: FloorTileItemBaseXeno
  id: FloorTileItemWebXeno
  components:
  - type: Sprite
    sprite: Objects/Tiles/tile.rsi 
    state: reinforced
  - type: FloorTile
    outputs:
      - FloorWebTile
  - type: Stack
    stackType: FloorTileWeb
  - type: Construction
    graph: WebObjects
    node: tile  
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 1
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  - type: TimedDespawn 
    lifetime: 5
  - type: PointLight
    radius: 2
    energy: 0.7
    color: "#07832c"
    castShadows: false    

- type: entity
  id: SpiderWebXeno
  name: засохшая слизь
  description: тем не менее липкая
  placement:
    mode: SnapgridCenter
    snap:
      - Wall
  components:
  - type: MeleeSound
    soundGroups:
      Brute:
        path:
          "/Audio/Weapons/slash.ogg"
  - type: Appearance
  - type: Clickable
  - type: Transform
    anchored: true
  - type: Physics
  - type: Fixtures
    fixtures:
      fix1:
        hard: false
        density: 7
        shape:
          !type:PhysShapeAabb
          bounds: "-0.5,-0.5,0.5,0.5"
        layer:
        - MidImpassable
  - type: Damageable
    damageModifierSet: Wood
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 3
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  - type: Temperature
    heatDamage:
      types:
        Heat: 3
    coldDamage: {}
    coldDamageThreshold: 0
  - type: Flammable
    fireSpread: true
    damage:
      types:
        Heat: 3
  - type: Reactive
    groups:
      Flammable: [Touch]
      Extinguish: [Touch]
  - type: SpiderWebObject
  - type: SpeedModifierContacts
    walkSpeedModifier: 0.35
    sprintSpeedModifier: 0.55
    ignoreWhitelist:
      components:
          - IgnoreSpiderWeb
  - type: Sprite
    sprite: Structures/Walls/rock.rsi
    layers:
      - state: rock_chromite
    drawdepth: FloorTiles

- type: entity
  parent: ShardCrystalBase  
  name: кристал из блевоты
  id: ShardCrystalBlue2334
  components:
  - type: TimedDespawn 
    lifetime: 300
  - type: Sprite
    color: "#95ce27"
  - type: PointLight
    radius: 3
    energy: 2.5
    color: "#95ce27"
  - type: Tag
    tags:
      - Trash
      - CrystalBlue 
  - type: StaticPrice
    price: 350       

- type: entity
  name: пена слизь
  parent: FloorTileItemWebXeno
  id: FloorTileItemWebXeno333
  components:
  - type: TriggerOnSpawn
  - type: SmokeOnTrigger
    duration: 4
    spreadAmount: 5
    smokePrototype: FloorTileItemWebXeno333Foam

- type: entity
  id: FloorTileItemWebXeno333Foam
  name: пена слизь
  categories: [ HideSpawnMenu ]
  parent: MetalFoam
  components:
  - type: SpawnOnDespawn
    prototype: SpiderWebXeno
  - type: Sprite
    color: "#523a78"
  - type: TimedDespawn
    lifetime: 5

- type: entity
  name: пена слизь
  parent: FloorTileItemWebXeno
  id: FloorTileItemWebXenoWall
  components:
  - type: TriggerOnSpawn
  - type: SmokeOnTrigger
    duration: 15
    spreadAmount: 1
    smokePrototype: FloorTileItemWebXenoWallFoam

- type: entity
  name: пена стена
  parent: MetalFoam 
  id: FloorTileItemWebXenoWallFoam
  categories: [ HideSpawnMenu ]
  components:
  - type: SpawnOnDespawn
    prototype: WallWebDurable
  - type: Sprite
    color: "#22224c"
  - type: TimedDespawn
    lifetime: 9

- type: entity
  id: PuddleDron
  parent: FloorTileItemBaseXeno
  placement:
    mode: SnapgridCenter
  components:
  - type: TriggerOnSpawn
  - type: SmokeOnTrigger
    duration: 20
    spreadAmount: 5
    smokePrototype: Foam
    solution:
      reagents:
      - ReagentId: IchorXeno
        Quantity: 45

- type: entity
  id: PuddlePretor
  parent: FloorTileItemBaseXeno
  placement:
    mode: SnapgridCenter
  components:
  - type: TriggerOnSpawn
  - type: SmokeOnTrigger
    duration: 15
    spreadAmount: 5
    smokePrototype: Foam
    solution:
      reagents:
      - ReagentId: XenoMilk
        Quantity: 25

- type: entity
  parent: ClothingEyesGlassesThermal
  id: ClothingEyesGlassesThermalXenomod
  name: ядро ксеноса
  components:
  - type: Sprite
    sprite: /Textures/Objects/Consumable/Food/meat.rsi
    layers:
      - state: slime
  - type: Unremoveable
  - type: Clothing
    sprite: Clothing/Neck/Misc/pins.rsi
    layers:
      - state: gender-equipped-NECK
  - type: Painted
    enabled: True
    color: '#000000'
- type: entity
  parent: ClothingEyesGlassesThermalXenomod
  id: ClothingEyesGlassesThermalXenomodHuman
  name: ядро ксеноса
  components:
  - type: ToggleClothing
    action: ActionToggleThermalVision
    disableOnUnequip: true
    targetSlot: pocket2

- type: startingGear
  id: xenomodhumangear
  equipment:
    pocket2: ClothingEyesGlassesThermalXenomodHuman
- type: startingGear
  id: xenomodgear
  equipment:
    eyes: ClothingEyesGlassesThermalXenomod

- type: inventoryTemplate
  id: xenomod
  slots:
  - name: eyes
    slotTexture: glasses
    slotFlags: EYES
    stripTime: 3
    uiWindowPos: 0,2
    strippingWindowPos: 0,0
    displayName: Eyes

- type: ghostRoleRaffleSettings
  id: xenodjuk
  settings:
    initialDuration: 1
    joinExtendsDurationBy: 1
    maxDuration: 1
- type: ghostRoleRaffleSettings
  id: paroditel
  settings:
    initialDuration: 40
    joinExtendsDurationBy: 10
    maxDuration: 120

- type: radioChannel
  id: Hivemind
  name: Улей
  keycode: 'у'
  frequency: 8888
  color: "#ca00ca"
  longRange: true

- type: htnCompound
  id: XenoWarCompound
  branches:
    - tasks:
        - !type:HTNCompoundTask
          task: InnateRangedCombatCompound
    - tasks:
        - !type:HTNCompoundTask
          task: MeleeCombatCompound
    - tasks:
        - !type:HTNCompoundTask
          task: FollowCompound
    - tasks:
        - !type:HTNCompoundTask
          task: IdleCompound

- type: damageModifierSet
  id: XenoDamage 
  coefficients:
    Blunt: 1.0
    Piercing: 1.0
    Cold: 0.1
    Heat: 1.5
    Poison: 0.0

- type: entity
  parent: BaseItem
  id: FloorTileItemBaseXeno
  description: These could work as a pretty decent throwing weapon.
  abstract: true
  components:
  - type: Sprite
    sprite: Objects/Tiles/tile.rsi  
  - type: DamageOtherOnHit  
    damage:
      types:
        Blunt: 5
  - type: Damageable
    damageContainer: Inorganic   
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 30
      behaviors:
        - !type:DoActsBehavior
          acts: [ "Destruction" ]
    - trigger:
        !type:DamageTrigger
        damage: 20
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak
          params:
            volume: -8
      - !type:DoActsBehavior
        acts: [ "Destruction" ] 
  - type: DamageOnLand
    damage:
      types:
        Blunt: 5    

- type: entity
  categories: [ HideSpawnMenu ]
  parent: BaseBulletTrigger
  id: ProjectileDragonsBreathxeno
  name: Кислотный слизистый ком
  description: мерзость..
  components:
  - type: PointLight
    color: "#95ce27"
    radius: 3.0
    energy: 5.0
  - type: Sprite
    scale: 1.4, 1.4
    sprite: Objects/Weapons/Guns/Projectiles/xeno_toxic.rsi
    layers:
    - state: xeno_toxic
      shader: unshaded
  - type: SmokeOnTrigger
    duration: 60
    spreadAmount: 7
    smokePrototype: Foam
    solution:
      reagents:
      - ReagentId: FluorosulfuricAcidHumanoidXeno
        Quantity: 80

- type: polymorph
  id: XenoMorphPolymorphT1runi
  configuration:
    entity: BaseMobHumanoidXenoT1
    forced: true
    transferDamage: false
    transferName: true
    revertOnCrit: false
    revertOnDeath: false
    transferHumanoidAppearance: false
    inventory: Drop
    revertOnEat: false
    allowRepeatedMorphs: true

- type: reagent
  id: XenoMorphReagent
  name: ксеноморф
  group: Toxins
  desc: Превращает гуманоида в ксенотварь
  physicalDesc: живое
  flavor: мерзость
  worksOnTheDead: true
  color: "#ed9715"
  metabolisms:
    Poison:
      metabolismRate: 0.5
      effects:
      - !type:Polymorph
        prototype: XenoMorphPolymorphT1runi
        conditions:
        - !type:ReagentThreshold
          min: 20

- type: entity 
  parent: XenoEggHunter
  id: XenoEggMobXenoPraetorianHive
  name: яйцо преторианца 
  description: Это яйцо?
  components:
  - type: Butcherable
    butcheringType: Knife
    spawned:
    - id: ZhelezaRegeneraziT2
    - id: FoodMeatXenoHive
      amount: 2
  - type: TimedDespawn 
    lifetime: 540
  - type: SpawnOnDespawn
    prototype: MobXenoPraetorianHive  
- type: entity  
  parent: XenoEggHunter
  id: XenoEggMobXenoRavagerHive
  name: яйцо разрушителя 
  description: Это яйцо?
  components:
  - type: Butcherable
    butcheringType: Knife
    spawned:
    - id: ZhelezaRegeneraziT2
    - id: FoodMeatXenoHive
      amount: 2
  - type: TimedDespawn 
    lifetime: 360
  - type: SpawnOnDespawn
    prototype: MobXenoRavagerHive   
- type: entity  
  parent: XenoEggHunter
  id: XenoEggMobMobXenoRounyHive
  name: яйцо руни
  description: Это яйцо?
  components:
  - type: Butcherable
    butcheringType: Knife
    spawned:
    - id: ZhelezaRegeneraziT2
    - id: FoodMeatXenoHive
      amount: 2
  - type: TimedDespawn 
    lifetime: 480
  - type: SpawnOnDespawn
    prototype: MobXenoRounyHive
- type: entity 
  parent: XenoEggHunter
  id: XenoEggMobXenoDroneHive
  name: яйцо дрона
  description: Это яйцо?
  components:
  - type: TimedDespawn 
    lifetime: 120
  - type: SpawnOnDespawn
    prototype: MobXenoDroneHive    
- type: entity 
  parent: XenoEggHunter
  id: XenoEggMobMobXenoSpitter
  name: яйцо харкуна
  description: Это яйцо?
  components:
  - type: TimedDespawn 
    lifetime: 90
  - type: SpawnOnDespawn
    prototype: MobXenoSpitterHive
- type: entity
  id: XenoEggHunter 
  name: яйцо работяги
  parent: XenoEggBaseParent
  description: Это яйцо?
  placement:
    mode: SnapgridCenter
    snap:
    - Wall
  components:
  - type: TimedDespawn
    lifetime: 60
  - type: SpawnOnDespawn
    prototype: MobXenoHive
